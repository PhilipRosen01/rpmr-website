# Security: block direct web access to sensitive config
<Files "config.php">
  Require all denied
</Files>

# Also block common backup/temporary variants if they ever get created
<FilesMatch "^(config\.php(~|\.bak|\.old|\.orig|\.save|\.swp)|config\.php\.)">
  Require all denied
</FilesMatch>

# X-Robots-Tag (HTTP header)
# Default: prevent indexing of non-main pages. Allow only the homepage.
<IfModule mod_headers.c>
  <FilesMatch "\.(html|php)$">
    Header set X-Robots-Tag "noindex, nofollow, noarchive"
  </FilesMatch>

  <Files "index.html">
    Header set X-Robots-Tag "index, follow"
  </Files>
</IfModule>

# Ensure correct MIME type for favicon.ico
<IfModule mod_mime.c>
  AddType image/x-icon .ico
</IfModule>

# Canonicalize URLs (SEO): force HTTPS + non-WWW + remove explicit /index.html
RewriteEngine On

# Redirect only when the browser explicitly requests /index.html
RewriteCond %{THE_REQUEST} \s/+index\.html(?:\?|[\s]) [NC]
RewriteRule ^index\.html$ https://rpmrcreations.com/ [R=301,L]

# Force HTTPS and non-WWW for all other requests
RewriteCond %{HTTPS} !=on [OR]
RewriteCond %{HTTP_HOST} ^www\.rpmrcreations\.com$ [NC]
RewriteRule ^ https://rpmrcreations.com%{REQUEST_URI} [R=301,L]
